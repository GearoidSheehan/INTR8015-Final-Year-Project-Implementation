<!-- Using reactive forms with these but can't get them to work properly with required field div dropdown. Not
    allowed to use ngModel with formGroup - commented them out for now as not a major feature -->

<div class="wrapper">
  <div class="innerContainer bg-light">
       <div class="row surveyCardHeader">
            <span class="cardHeader">Create Survey</span>
       </div>
       <hr>
       <div class="row cardInnerText">
        <form [formGroup]="createSurveyForm" (ngSubmit)="onSubmit()">
          <div class="row">
            <div class="col">
              <div class="form-group">
                <label for="surveyName">Survey Name</label>
                <input required id="surveyName" type="text" class="form-control" placeholder="Survey Name" formControlName="surveyName">
                <div class="alert alert-danger" *ngIf="surveyName.touched && !surveyName.valid">Survey Name is required</div>
              </div>
              <div class="form-group">
                <label for="startDate">Start Date</label>
                <input required id="startDate" type="date" class="form-control" placeholder="Start Date" formControlName="startDate">
                <div class="alert alert-danger" *ngIf="startDate.touched && !startDate.valid">Start Date is required</div>
              </div>
              <p>Please use the template available for download below. Excel files uploaded which do not adhere to the layout
                of the template may not process correctly - <a href="https://survey-scrub-xml-files.s3-eu-west-1.amazonaws.com/SurveyQ%26A_Template.xlsx" download>Template Download</a>
              </p>
            </div>

            <div class="col">
              <div class="form-group">
                <label for="surveyDescription">Survey Description</label>
                <input required id="surveyDescription" type="text" class="form-control" placeholder="Survey Description" formControlName="surveyDescription">
                <div class="alert alert-danger" *ngIf="surveyDescription.touched && !surveyDescription.valid">Survey Description is required</div>
              </div>
              <div class="form-group">
                <label for="endDate">End Date</label>
                <input required id="endDate" type="date" class="form-control" placeholder="End Date" formControlName="endDate">
                <div class="alert alert-danger" *ngIf="endDate.touched && !endDate.valid">End Date is required</div>
              </div>

              <div class="row">
                <div class="col">
                  <div class="form-group">
                    <label for="allowedFraudRate">Allowed Fraud Rate</label>
                    <input required id="allowedFraudRate" type="number" class="form-control" placeholder="Allowed Fraud Rate" formControlName="allowedFraudRate">
                    <div class="alert alert-danger" *ngIf="allowedFraudRate.touched && !allowedFraudRate.valid">Allowed fraud rate is required</div>
                  </div>
                </div>

                <div class="col">
                  <div class="form-group">
                    <label for="fileUpload">File Upload</label><br>
                    <input required id="fileUpload" type="file" name="fileUpload" (change)="onFileSelect($event)" formControlName="fileUpload"/>
                    <div class="alert alert-danger" *ngIf="fileUpload.touched && !fileUpload.valid">File upload is required</div>
                  </div>
                </div>
              </div>

            </div>
          </div>

          <div class="row cardBtnRow">
            <div class="col">
                 <button type="button" class="btn btn-info float-left" routerLink="/home">Back</button>
            </div>
            <div class="col">
                  <button type="button" class="btn btn-primary float-right" (click)="onSubmit()">Submit</button>
            </div>
          </div>

        </form>
       </div>
  </div>
</div>
